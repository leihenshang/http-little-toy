# 开发记录

## 版本

v0.0.5
- 重构日志写入，使用waitGroup保证日志完整写入。此处感谢tx面试官的提示。

v0.0.4

- 重构项目main,拆分解耦逻辑
- 重构参数验证,删除 `-d` 和 `-t` 的强制验证
- 添加 `User-Agent` 标识 `http-little-toy [version]`
- 完善请求文件逻辑，请求文件优先级 > 命令行参数

v0.0.3

- 添加log日志记录

v0.0.2

- 添加header头设置
- 添加body体设置

v0.0.1

- 基本功能可用


#### 性能思考

todo POST请求读取form数据以及设置header头,是一个性能杀手，导致并发能力低了30%，去掉这两个需要携带的数据后就发现性能提升了不少

这个地方怎么优化呢？

我的想法是把这个地方的读取直接设置在请求的外部进行一个共享，直接设置为字符串，不需要再操作内部的方法逐个添加，减少损耗。

#### todo

- 测试 ssl 请求的正确性
- 优化日志的计数方式，优雅结束
